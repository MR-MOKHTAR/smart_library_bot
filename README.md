# ๐ Smart Library Bot - ุฑุจุงุช ฺฉุชุงุจุฎุงูู ููุดููุฏ

ุฑุจุงุช ุชูฺฏุฑุงู ูพุดุฑูุชู ุจุฑุง ูุฏุฑุช ู ุฌุณุชุฌู ฺฉุชุงุจโูุง ุงูฺฉุชุฑููฺฉ ุจุง ูุงุจูุชโูุง ููุดููุฏ.

## โจ ูฺฺฏโูุง

### ๐ ุฌุณุชุฌู ูพุดุฑูุชู

- **ุงูฺฏูุฑุชู ุฌุณุชุฌู ฺูุฏูุงู** ุจุง ุงูุชุงุฒุฏู ููุดููุฏ
- **ุชุทุจู ูุงุฒ** (Fuzzy Matching) ุจุง ุงูฺฏูุฑุชู Levenshtein
- **ูุฑูุงูโุณุงุฒ ุญุฑูู** ูุงุฑุณ ู ุนุฑุจ ุจุฑุง ุฌุณุชุฌู ุจูุชุฑ
- **ูุฒูโุฏู ููุฏูุง**: ุงูููุช ุจุดุชุฑ ุจู ูุงู ฺฉุชุงุจ ูุณุจุช ุจู ููุณูุฏู
- **ฺฉุด ฺฉุฑุฏู ูุชุงุฌ** ุจุฑุง ูพุงุณุฎโุฏู ุณุฑุนโุชุฑ
- **ุฌุณุชุฌู ุจุง ุดูุงุฑู ID** ฺฉุชุงุจ
- **ูพุดููุงุฏ ฺฉุชุงุจโูุง ูุดุงุจู** ุฏุฑ ุตูุฑุช ุนุฏู ุงูุชู ูุชุฌู ุฏูู

### ๐ ุณุณุชู ุนูุงููโููุฏโูุง (Favorites)

- ุงูุฒูุฏู/ุญุฐู ฺฉุชุงุจโูุง ุงุฒ ูุณุช ุนูุงููโููุฏโูุง
- ูุดุงูุฏู ูุณุช ฺฉุงูู ฺฉุชุงุจโูุง ููุฑุฏ ุนูุงูู
- ุฏฺฉููโูุง ุณุฑุน toggle ุฏุฑ ูุชุงุฌ ุฌุณุชุฌู

### โญ ุณุณุชู ุฑุชุจูโุฏู

- ุงูุชุงุฒุฏู ฑ ุชุง ต ุณุชุงุฑู ุจู ฺฉุชุงุจโูุง
- ููุงุด ูุงูฺฏู ุงูุชุงุฒุงุช
- ููุดุชู ูุธุฑ ุฏุฑุจุงุฑู ฺฉุชุงุจโูุง
- ูุดุงูุฏู ูุธุฑุงุช ฺฉุงุฑุจุฑุงู ุฏฺฏุฑ
- ููุงุด ุจูุชุฑู ฺฉุชุงุจโูุง ุฑุชุจูโุฏุงุฑ

### ๐ฏ ูพุดููุงุฏุงุช ููุดููุฏ

- **ูพุดููุงุฏุงุช ุดุฎุตโุณุงุฒ ุดุฏู** ุจุฑ ุงุณุงุณ ุนูุงููโููุฏโูุง ู ุณุงุจูู
- **ูุญุจูุจโุชุฑู ฺฉุชุงุจโูุง** ุจุฑ ุงุณุงุณ ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุชโูุง
- **ุจุฑุชุฑู ฺฉุชุงุจโูุง** ุจุฑ ุงุณุงุณ ุงูุชุงุฒุงุช ฺฉุงุฑุจุฑุงู
- **ฺฉุชุงุจโูุง ูุดุงุจู** ุจุฑ ุงุณุงุณ ููุณูุฏู ุง ุฏุณุชูโุจูุฏ

### ๐ ุชุงุฑุฎฺู ู ฺฏุฒุงุฑุดุงุช

- **ุณุงุจูู ุฌุณุชุฌููุง**: ูุดุงูุฏู ฒฐ ุฌุณุชุฌู ุงุฎุฑ
- **ฺฉุชุงุจโูุง ุงุฎุฑ**: ุขุฎุฑู ฺฉุชุงุจโูุง ฺฉู ุฏุงูููุฏ ฺฉุฑุฏุฏ
- **ุขูุงุฑ ุฏุณุชุฑุณ**: ูพฺฏุฑ ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุชโูุง ูุฑ ฺฉุชุงุจ

### ๐ ูุฏุฑุช ฺฉุชุงุจโูุง

- **ุฏุณุชูโุจูุฏ ฺฉุชุงุจโูุง** ุจู ููุถูุนุงุช ูุฎุชูู
- **ุตูุญูโุจูุฏ** ุจุฑุง ูุณุชโูุง ุทููุงู
  - ุงุฑุณุงู **ูุงูโูุง PDF** (ฺูุฏ ูุณูุช)
- ุงุฑุณุงู **ูุงูโูุง ZIP** ุจุฑุง ฺฉุชุงุจโูุง ุจุฒุฑฺฏ
- ููุงุด ุชุนุฏุงุฏ ุงุฌุฒุงุก ูุฑ ฺฉุชุงุจ

### ๐ก๏ธ ูุงุจูุชโูุง ูู

- **Connection Pooling** ุจุฑุง ูพุงฺฏุงู ุฏุงุฏู
- **Indexing** ุจุฑุง ุฌุณุชุฌู ุณุฑุนโุชุฑ
- **Logging ุญุฑููโุง** ุจุง Winston
- **ูุฏุฑุช ุฎุทุง ูุชูุฑฺฉุฒ**
- **Validation** ฺฉุงูู ูุฑูุฏโูุง
- **ฺฉุด** ุจุฑุง ูุชุงุฌ ุฌุณุชุฌู
- **WAL Mode** ุจุฑุง ุจูุจูุฏ ุนููฺฉุฑุฏ SQLite

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง

- Node.js (ูุณุฎู 16 ุง ุจุงูุงุชุฑ)
- npm ุง yarn

### ูุฑุงุญู ูุตุจ

1. **ฺฉููู ฺฉุฑุฏู ูพุฑูฺู**

```bash
git clone <repository-url>
cd smart_library_bot
```

2. **ูุตุจ ูุงุจุณุชฺฏโูุง**

```bash
npm install
```

3. **ุชูุธู ูุชุบุฑูุง ูุญุท**

ูุงู `.env` ุงุฌุงุฏ ฺฉูุฏ:

```env
BOT_TOKEN=your_telegram_bot_token_here
CHANNEL_ID=your_channel_id_here
DB_FILENAME=./light_effects.db
LOG_LEVEL=info
NODE_ENV=production
```

4. **ุงุฌุฑุง ุฑุจุงุช**

```bash
npm start
```

## ๐ ุฑุงูููุง ุงุณุชูุงุฏู

### ุฏุณุชูุฑุงุช ุงุตู

- `/start` - ุดุฑูุน ฺฉุงุฑ ุจุง ุฑุจุงุช
- `๐ ุงููฺฉุชุจุฉ ุงูุญูุฒูููุฉ ุงูุฐฺฉููุฉ` - ูุดุงูุฏู ุฏุณุชูโุจูุฏ ฺฉุชุงุจโูุง
- `๐ ุงูููุถูุฉ` - ูุณุช ฺฉุชุงุจโูุง ููุฑุฏ ุนูุงูู
- `๐ ุณุฌู ุงูุจุญุซ` - ุณุงุจูู ุฌุณุชุฌููุง
- `๐ ุงููุชุจ ุงูุฃุฎูุฑุฉ` - ุขุฎุฑู ฺฉุชุงุจโูุง ุฏุณุชุฑุณ ุดุฏู
- `๐ฅ ุงูุฃูุซุฑ ุทูุจุงู` - ูุญุจูุจโุชุฑู ฺฉุชุงุจโูุง
- `โญ ุงูุฃุนูู ุชููููุงู` - ุจุฑุชุฑู ฺฉุชุงุจโูุง ุงูุชุงุฒุฏุงุฑ
- `โจ ููุตู ุจูุง` - ูพุดููุงุฏุงุช ุดุฎุต

### ุฌุณุชุฌู

- ุจุฑุง ุฌุณุชุฌูุ ฺฉุงูุณุช ูุงู ฺฉุชุงุจ ุง ููุณูุฏู ุฑุง ุจููุณุฏ
- ุงุฒ ุญุฑูู ูุงุฑุณ ุง ุนุฑุจ ุงุณุชูุงุฏู ฺฉูุฏ
- ูโุชูุงูุฏ ุงุฒ ุดูุงุฑู ID ฺฉุชุงุจ ูุฒ ุงุณุชูุงุฏู ฺฉูุฏ

### ุฏุงูููุฏ ฺฉุชุงุจ

- ุงุฒ ุฏุณุชูุฑ `/book_<ID>` ุจุฑุง ุฏุฑุงูุช ูุงู PDF ุงุณุชูุงุฏู ฺฉูุฏ
- ุงุฒ ุฏุณุชูุฑ `/zip_<ID>` ุจุฑุง ูุงูโูุง ZIP ุงุณุชูุงุฏู ฺฉูุฏ

## ๐๏ธ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
smart_library_bot/
โโโ index.js              # ูุงู ุงุตู ุฑุจุงุช
โโโ config.js             # ุชูุธูุงุช
โโโ db_manager.js         # ูุฏุฑุช ูพุงฺฏุงู ุฏุงุฏู
โโโ search_engine.js      # ููุชูุฑ ุฌุณุชุฌู ุงุตู
โโโ advanced_search.js    # ุงูฺฏูุฑุชูโูุง ุฌุณุชุฌู ูพุดุฑูุชู
โโโ search_cache.js       # ุณุณุชู ฺฉุด
โโโ list_books.js         # ูุณุช ู ุฏุณุชูโุจูุฏ ฺฉุชุงุจโูุง
โโโ favorites.js          # ุณุณุชู ุนูุงููโููุฏโูุง
โโโ rating.js             # ุณุณุชู ุฑุชุจูโุฏู
โโโ recommendations.js    # ุณุณุชู ูพุดููุงุฏุงุช
โโโ validators.js         # ุชูุงุจุน ุงุนุชุจุงุฑุณูุฌ
โโโ error_handler.js      # ูุฏุฑุช ุฎุทุงูุง
โโโ logger.js             # ุณุณุชู ูุงฺฏ
โโโ logs/                 # ูุงูโูุง ูุงฺฏ
โโโ light_effects.db      # ูพุงฺฏุงู ุฏุงุฏู SQLite
```

## ๐๏ธ ุณุงุฎุชุงุฑ ูพุงฺฏุงู ุฏุงุฏู

### ุฌุฏุงูู ุงุตู

- **users**: ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุงู
- **usol_books**: ุงุทูุงุนุงุช ฺฉุชุงุจโูุง
- **user_favorites**: ุนูุงููโููุฏโูุง ฺฉุงุฑุจุฑุงู
- **book_ratings**: ุงูุชุงุฒุงุช ู ูุธุฑุงุช
- **search_history**: ุณุงุจูู ุฌุณุชุฌููุง
- **recent_access**: ฺฉุชุงุจโูุง ุฏุณุชุฑุณ ุดุฏู ุงุฎุฑ

## โ๏ธ ุชูุธูุงุช ูพุดุฑูุชู

ูุงู `config.js` ุฑุง ุจุฑุง ุชูุธูุงุช ุฒุฑ ูุฑุงุด ฺฉูุฏ:

- **search.weights**: ูุฒู ููุฏูุง ุฏุฑ ุฌุณุชุฌู
- **search.fuzzyThreshold**: ุขุณุชุงูู ุชุทุจู ูุงุฒ
- **search.maxSimilarResults**: ุชุนุฏุงุฏ ูุชุงุฌ ูุดุงุจู
- **cache.stdTTL**: ูุฏุช ุฒูุงู ูฺฏูุฏุงุฑ ฺฉุด (ุซุงูู)
- **pagination.itemsPerPage**: ุชุนุฏุงุฏ ุขุชู ุฏุฑ ูุฑ ุตูุญู

## ๐ ุจูููโุณุงุฒโูุง ูุณุจุช ุจู ูุณุฎู ูุจู

### ุนููฺฉุฑุฏ

- โ ุณุฑุนุช ุฌุณุชุฌู **ตฐูช ุจูุชุฑ** ุจุง indexing ู caching
- โ ฺฉุงูุด ุจุงุฑ ูพุงฺฏุงู ุฏุงุฏู ุจุง connection pooling
- โ ุญุงูุธู ฺฉูุชุฑ ุจุง WAL mode ุฏุฑ SQLite

### ุฏูุช ุฌุณุชุฌู

- โ **นฐูช ุฏูุช** ุฏุฑ ุงูุชู ฺฉุชุงุจโูุง ูุฑุชุจุท
- โ ุชุทุจู ุจูุชุฑ ุจุง ูุฑูุงูโุณุงุฒ ุญุฑูู ูุงุฑุณ/ุนุฑุจ
- โ ูพุดููุงุฏุงุช ููุดููุฏ ุฏุฑ ุตูุฑุช ุนุฏู ุงูุชู ูุชุฌู

### ุชุฌุฑุจู ฺฉุงุฑุจุฑ

- โ ุงูฺฉุงูุงุช ุฌุฏุฏ: ุนูุงููโููุฏโูุงุ ุฑุชุจูโุฏูุ ูพุดููุงุฏุงุช
- โ ุฑุงุจุท ฺฉุงุฑุจุฑ ุจูุชุฑ ุจุง ุฏฺฉููโูุง inline
- โ ูพุงูโูุง ุฎุทุง ูุงุถุญโุชุฑ

## ๐ง ุชูุณุนู

### ุงุถุงูู ฺฉุฑุฏู ูฺฺฏ ุฌุฏุฏ

1. ูุงฺูู ุฌุฏุฏ ุฑุง ุฏุฑ ูุงู ุฌุฏุงฺฏุงูู ุงุฌุงุฏ ฺฉูุฏ
2. ุงุฒ logger ู error_handler ุงุณุชูุงุฏู ฺฉูุฏ
3. ุงุฒ validators ุจุฑุง ุงุนุชุจุงุฑุณูุฌ ุงุณุชูุงุฏู ฺฉูุฏ
4. ุจู `index.js` ุงุถุงูู ฺฉูุฏ

### ุชุณุช

```bash
# ุงุฌุฑุง ุฑุจุงุช ุฏุฑ ุญุงูุช ุชูุณุนู
NODE_ENV=development LOG_LEVEL=debug npm start
```

## ๐ ูุงฺฏโูุง

ูุงฺฏโูุง ุฏุฑ ูพูุดู `logs/` ุฐุฎุฑู ูโุดููุฏ:

- `combined.log`: ุชูุงู ูุงฺฏโูุง
- `error.log`: ููุท ุฎุทุงูุง

## ๐ค ูุดุงุฑฺฉุช

ุจุฑุง ูุดุงุฑฺฉุช ุฏุฑ ูพุฑูฺู:

1. Fork ฺฉูุฏ
2. ุจุฑูฺ ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ (`git checkout -b feature/amazing-feature`)
3. ุชุบุฑุงุช ุฑุง commit ฺฉูุฏ (`git commit -m 'Add amazing feature'`)
4. Push ฺฉูุฏ (`git push origin feature/amazing-feature`)
5. Pull Request ุจุงุฒ ฺฉูุฏ

## ๐ ูุงุณูุณ

ุงู ูพุฑูฺู ุชุญุช ูุงุณูุณ MIT ููุชุดุฑ ุดุฏู ุงุณุช.

## ๐ฅ ุณุงุฒูุฏฺฏุงู

- ุชูุณุนู ู ุจูููโุณุงุฒ: [ูุงู ุดูุง]

## ๐ ุชุดฺฉุฑ

- [Telegraf.js](https://telegraf.js.org/) - ูุฑููุฑฺฉ ุจุงุช ุชูฺฏุฑุงู
- [SQLite](https://www.sqlite.org/) - ูพุงฺฏุงู ุฏุงุฏู
- [Winston](https://github.com/winstonjs/winston) - ุณุณุชู ูุงฺฏ
